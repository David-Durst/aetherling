from aetherling.modules.reduce import DefineReduceSequential, DefineReduceParallel, renameCircuitForReduce
from aetherling.modules.register_any_type import DefineRegisterAnyType
from aetherling.modules.term_any_type import TermAnyType
from aetherling.modules.noop import DefineNoop
from magma.backend.coreir_ import CoreIRBackend
from magma.bitutils import *
from coreir.context import *
from magma.simulator.coreir_simulator import CoreIRSimulator
import coreir
from magma.scope import Scope
from mantle.coreir.arith import *
from mantle.coreir.logic import *
from mantle.coreir.compare import *
from mantle.coreir import DefineCoreirConst
from mantle.coreir.LUT import *
from aetherling.modules.upsample import *
from aetherling.modules.downsample import *
from aetherling.modules.reduce import *
from aetherling.modules.native_linebuffer.two_dimensional_native_linebuffer import DefineTwoDimensionalLineBuffer

c = coreir.Context()
cirb = CoreIRBackend(c)

args = ['I0', Array[8, In(Bit)], 'I1', Array[8, In(Bit)], 'I2', Array[8, In(Bit)], 'I3', Array[8, In(Bit)], 'I4', Array[8, In(Bit)], 'I5', Array[8, In(Bit)], 'I6', Array[8, In(Bit)], 'I7', Array[8, In(Bit)], 'I8', Array[8, In(Bit)], 'I9', Array[8, In(Bit)], 'I10', Array[8, In(Bit)], 'I11', Array[8, In(Bit)], 'I12', Array[8, In(Bit)], 'I13', Array[8, In(Bit)], 'I14', Array[8, In(Bit)], 'I15', Array[8, In(Bit)], 'I16', Array[8, In(Bit)], 'I17', Array[8, In(Bit)], 'I18', Array[8, In(Bit)], 'I19', Array[8, In(Bit)], 'I20', Array[8, In(Bit)], 'I21', Array[8, In(Bit)], 'I22', Array[8, In(Bit)], 'I23', Array[8, In(Bit)], 'I24', Array[8, In(Bit)], 'I25', Array[8, In(Bit)], 'I26', Array[8, In(Bit)], 'I27', Array[8, In(Bit)], 'I28', Array[8, In(Bit)], 'I29', Array[8, In(Bit)], 'I30', Array[8, In(Bit)], 'I31', Array[8, In(Bit)], 'O0', Array[8, Out(Bit)], 'valid_data_in', In(Bit), 'ready_data_in', Out(Bit), 'valid_data_out', Out(Bit), 'ready_data_out', In(Bit), ] + ClockInterface(has_ce=True)
downsample_256x256_to_32x32_32px_in_per_clk = DefineCircuit('downsample_256x256_to_32x32_32px_in_per_clk_Circuit', *args)
magmaInstance0 = DefineTwoDimensionalLineBuffer(cirb, Array[8, In(Bit)], 32, 1, 2, 2, 256, 256, 2, 2, 0, 0)()
magmaInstance1 = DefineNoop(DefineTwoDimensionalLineBuffer(cirb, Array[8, In(Bit)], 32, 1, 2, 2, 256, 256, 2, 2, 0, 0))()
magmaInstance2 = DefineCoreirConst(8, 1)()
magmaInstance3 = DefineCoreirConst(8, 1)()
magmaInstance4 = DefineCoreirConst(8, 1)()
magmaInstance5 = DefineCoreirConst(8, 1)()
magmaInstance6 = DefineCoreirConst(8, 1)()
magmaInstance7 = DefineCoreirConst(8, 1)()
magmaInstance8 = DefineCoreirConst(8, 1)()
magmaInstance9 = DefineCoreirConst(8, 1)()
magmaInstance10 = DefineCoreirConst(8, 2)()
magmaInstance11 = DefineCoreirConst(8, 2)()
magmaInstance12 = DefineCoreirConst(8, 2)()
magmaInstance13 = DefineCoreirConst(8, 2)()
magmaInstance14 = DefineCoreirConst(8, 2)()
magmaInstance15 = DefineCoreirConst(8, 2)()
magmaInstance16 = DefineCoreirConst(8, 2)()
magmaInstance17 = DefineCoreirConst(8, 2)()
magmaInstance25 = DefineCoreirConst(8, 3)()
magmaInstance26 = DefineCoreirConst(8, 3)()
magmaInstance27 = DefineCoreirConst(8, 3)()
magmaInstance28 = DefineCoreirConst(8, 3)()
magmaInstance29 = DefineCoreirConst(8, 3)()
magmaInstance30 = DefineCoreirConst(8, 3)()
magmaInstance31 = DefineCoreirConst(8, 3)()
magmaInstance32 = DefineCoreirConst(8, 3)()
magmaInstance33 = DefineCoreirConst(8, 4)()
magmaInstance34 = DefineCoreirConst(8, 4)()
magmaInstance35 = DefineCoreirConst(8, 4)()
magmaInstance36 = DefineCoreirConst(8, 4)()
magmaInstance37 = DefineCoreirConst(8, 4)()
magmaInstance38 = DefineCoreirConst(8, 4)()
magmaInstance39 = DefineCoreirConst(8, 4)()
magmaInstance40 = DefineCoreirConst(8, 4)()
wire(magmaInstance0.O[0][0][0], magmaInstance1.in_O[0][0][0])
wire(magmaInstance0.O[0][0][1], magmaInstance1.in_O[0][0][1])
wire(magmaInstance0.O[0][1][0], magmaInstance1.in_O[0][1][0])
wire(magmaInstance0.O[0][1][1], magmaInstance1.in_O[0][1][1])
wire(magmaInstance0.O[1][0][0], magmaInstance1.in_O[1][0][0])
wire(magmaInstance0.O[1][0][1], magmaInstance1.in_O[1][0][1])
wire(magmaInstance0.O[1][1][0], magmaInstance1.in_O[1][1][0])
wire(magmaInstance0.O[1][1][1], magmaInstance1.in_O[1][1][1])
wire(magmaInstance0.O[2][0][0], magmaInstance1.in_O[2][0][0])
wire(magmaInstance0.O[2][0][1], magmaInstance1.in_O[2][0][1])
wire(magmaInstance0.O[2][1][0], magmaInstance1.in_O[2][1][0])
wire(magmaInstance0.O[2][1][1], magmaInstance1.in_O[2][1][1])
wire(magmaInstance0.O[3][0][0], magmaInstance1.in_O[3][0][0])
wire(magmaInstance0.O[3][0][1], magmaInstance1.in_O[3][0][1])
wire(magmaInstance0.O[3][1][0], magmaInstance1.in_O[3][1][0])
wire(magmaInstance0.O[3][1][1], magmaInstance1.in_O[3][1][1])
wire(magmaInstance0.O[4][0][0], magmaInstance1.in_O[4][0][0])
wire(magmaInstance0.O[4][0][1], magmaInstance1.in_O[4][0][1])
wire(magmaInstance0.O[4][1][0], magmaInstance1.in_O[4][1][0])
wire(magmaInstance0.O[4][1][1], magmaInstance1.in_O[4][1][1])
wire(magmaInstance0.O[5][0][0], magmaInstance1.in_O[5][0][0])
wire(magmaInstance0.O[5][0][1], magmaInstance1.in_O[5][0][1])
wire(magmaInstance0.O[5][1][0], magmaInstance1.in_O[5][1][0])
wire(magmaInstance0.O[5][1][1], magmaInstance1.in_O[5][1][1])
wire(magmaInstance0.O[6][0][0], magmaInstance1.in_O[6][0][0])
wire(magmaInstance0.O[6][0][1], magmaInstance1.in_O[6][0][1])
wire(magmaInstance0.O[6][1][0], magmaInstance1.in_O[6][1][0])
wire(magmaInstance0.O[6][1][1], magmaInstance1.in_O[6][1][1])
wire(magmaInstance0.O[7][0][0], magmaInstance1.in_O[7][0][0])
wire(magmaInstance0.O[7][0][1], magmaInstance1.in_O[7][0][1])
wire(magmaInstance0.O[7][1][0], magmaInstance1.in_O[7][1][0])
wire(magmaInstance0.O[7][1][1], magmaInstance1.in_O[7][1][1])
magmaInstance62 = DefineCoreirMul(8)()
magmaInstance63 = DefineCoreirMul(8)()
magmaInstance64 = DefineCoreirMul(8)()
magmaInstance65 = DefineCoreirMul(8)()
magmaInstance66 = DefineCoreirMul(8)()
magmaInstance67 = DefineCoreirMul(8)()
magmaInstance68 = DefineCoreirMul(8)()
magmaInstance69 = DefineCoreirMul(8)()
magmaInstance70 = DefineCoreirMul(8)()
magmaInstance71 = DefineCoreirMul(8)()
magmaInstance72 = DefineCoreirMul(8)()
magmaInstance73 = DefineCoreirMul(8)()
magmaInstance74 = DefineCoreirMul(8)()
magmaInstance75 = DefineCoreirMul(8)()
magmaInstance76 = DefineCoreirMul(8)()
magmaInstance77 = DefineCoreirMul(8)()
magmaInstance78 = DefineCoreirMul(8)()
magmaInstance79 = DefineCoreirMul(8)()
magmaInstance80 = DefineCoreirMul(8)()
magmaInstance81 = DefineCoreirMul(8)()
magmaInstance82 = DefineCoreirMul(8)()
magmaInstance83 = DefineCoreirMul(8)()
magmaInstance84 = DefineCoreirMul(8)()
magmaInstance85 = DefineCoreirMul(8)()
magmaInstance86 = DefineCoreirMul(8)()
magmaInstance87 = DefineCoreirMul(8)()
magmaInstance88 = DefineCoreirMul(8)()
magmaInstance89 = DefineCoreirMul(8)()
magmaInstance90 = DefineCoreirMul(8)()
magmaInstance91 = DefineCoreirMul(8)()
magmaInstance92 = DefineCoreirMul(8)()
magmaInstance93 = DefineCoreirMul(8)()
wire(magmaInstance1.O[0][0][0], magmaInstance62.I0)
wire(magmaInstance2.O, magmaInstance62.I1)
wire(magmaInstance1.O[0][0][1], magmaInstance63.I0)
wire(magmaInstance10.O, magmaInstance63.I1)
wire(magmaInstance1.O[0][1][0], magmaInstance64.I0)
wire(magmaInstance25.O, magmaInstance64.I1)
wire(magmaInstance1.O[0][1][1], magmaInstance65.I0)
wire(magmaInstance33.O, magmaInstance65.I1)
wire(magmaInstance1.O[1][0][0], magmaInstance66.I0)
wire(magmaInstance3.O, magmaInstance66.I1)
wire(magmaInstance1.O[1][0][1], magmaInstance67.I0)
wire(magmaInstance11.O, magmaInstance67.I1)
wire(magmaInstance1.O[1][1][0], magmaInstance68.I0)
wire(magmaInstance26.O, magmaInstance68.I1)
wire(magmaInstance1.O[1][1][1], magmaInstance69.I0)
wire(magmaInstance34.O, magmaInstance69.I1)
wire(magmaInstance1.O[2][0][0], magmaInstance70.I0)
wire(magmaInstance4.O, magmaInstance70.I1)
wire(magmaInstance1.O[2][0][1], magmaInstance71.I0)
wire(magmaInstance12.O, magmaInstance71.I1)
wire(magmaInstance1.O[2][1][0], magmaInstance72.I0)
wire(magmaInstance27.O, magmaInstance72.I1)
wire(magmaInstance1.O[2][1][1], magmaInstance73.I0)
wire(magmaInstance35.O, magmaInstance73.I1)
wire(magmaInstance1.O[3][0][0], magmaInstance74.I0)
wire(magmaInstance5.O, magmaInstance74.I1)
wire(magmaInstance1.O[3][0][1], magmaInstance75.I0)
wire(magmaInstance13.O, magmaInstance75.I1)
wire(magmaInstance1.O[3][1][0], magmaInstance76.I0)
wire(magmaInstance28.O, magmaInstance76.I1)
wire(magmaInstance1.O[3][1][1], magmaInstance77.I0)
wire(magmaInstance36.O, magmaInstance77.I1)
wire(magmaInstance1.O[4][0][0], magmaInstance78.I0)
wire(magmaInstance6.O, magmaInstance78.I1)
wire(magmaInstance1.O[4][0][1], magmaInstance79.I0)
wire(magmaInstance14.O, magmaInstance79.I1)
wire(magmaInstance1.O[4][1][0], magmaInstance80.I0)
wire(magmaInstance29.O, magmaInstance80.I1)
wire(magmaInstance1.O[4][1][1], magmaInstance81.I0)
wire(magmaInstance37.O, magmaInstance81.I1)
wire(magmaInstance1.O[5][0][0], magmaInstance82.I0)
wire(magmaInstance7.O, magmaInstance82.I1)
wire(magmaInstance1.O[5][0][1], magmaInstance83.I0)
wire(magmaInstance15.O, magmaInstance83.I1)
wire(magmaInstance1.O[5][1][0], magmaInstance84.I0)
wire(magmaInstance30.O, magmaInstance84.I1)
wire(magmaInstance1.O[5][1][1], magmaInstance85.I0)
wire(magmaInstance38.O, magmaInstance85.I1)
wire(magmaInstance1.O[6][0][0], magmaInstance86.I0)
wire(magmaInstance8.O, magmaInstance86.I1)
wire(magmaInstance1.O[6][0][1], magmaInstance87.I0)
wire(magmaInstance16.O, magmaInstance87.I1)
wire(magmaInstance1.O[6][1][0], magmaInstance88.I0)
wire(magmaInstance31.O, magmaInstance88.I1)
wire(magmaInstance1.O[6][1][1], magmaInstance89.I0)
wire(magmaInstance39.O, magmaInstance89.I1)
wire(magmaInstance1.O[7][0][0], magmaInstance90.I0)
wire(magmaInstance9.O, magmaInstance90.I1)
wire(magmaInstance1.O[7][0][1], magmaInstance91.I0)
wire(magmaInstance17.O, magmaInstance91.I1)
wire(magmaInstance1.O[7][1][0], magmaInstance92.I0)
wire(magmaInstance32.O, magmaInstance92.I1)
wire(magmaInstance1.O[7][1][1], magmaInstance93.I0)
wire(magmaInstance40.O, magmaInstance93.I1)
magmaInstance94 = DefineReduceParallel(cirb, 4, renameCircuitForReduce(DefineAdd(8)))()
magmaInstance95 = DefineReduceParallel(cirb, 4, renameCircuitForReduce(DefineAdd(8)))()
magmaInstance96 = DefineReduceParallel(cirb, 4, renameCircuitForReduce(DefineAdd(8)))()
magmaInstance97 = DefineReduceParallel(cirb, 4, renameCircuitForReduce(DefineAdd(8)))()
magmaInstance98 = DefineReduceParallel(cirb, 4, renameCircuitForReduce(DefineAdd(8)))()
magmaInstance99 = DefineReduceParallel(cirb, 4, renameCircuitForReduce(DefineAdd(8)))()
magmaInstance100 = DefineReduceParallel(cirb, 4, renameCircuitForReduce(DefineAdd(8)))()
magmaInstance101 = DefineReduceParallel(cirb, 4, renameCircuitForReduce(DefineAdd(8)))()
magmaInstance94_identityGen = DefineCoreirConst(8, 0)()
wire(magmaInstance94_identityGen.O, magmaInstance94.I.identity)
wire(magmaInstance94_identityGen.O, magmaInstance95.I.identity)
wire(magmaInstance94_identityGen.O, magmaInstance96.I.identity)
wire(magmaInstance94_identityGen.O, magmaInstance97.I.identity)
wire(magmaInstance94_identityGen.O, magmaInstance98.I.identity)
wire(magmaInstance94_identityGen.O, magmaInstance99.I.identity)
wire(magmaInstance94_identityGen.O, magmaInstance100.I.identity)
wire(magmaInstance94_identityGen.O, magmaInstance101.I.identity)
wire(magmaInstance62.O, magmaInstance94.I.data[0])
wire(magmaInstance63.O, magmaInstance94.I.data[1])
wire(magmaInstance64.O, magmaInstance94.I.data[2])
wire(magmaInstance65.O, magmaInstance94.I.data[3])
wire(magmaInstance66.O, magmaInstance95.I.data[0])
wire(magmaInstance67.O, magmaInstance95.I.data[1])
wire(magmaInstance68.O, magmaInstance95.I.data[2])
wire(magmaInstance69.O, magmaInstance95.I.data[3])
wire(magmaInstance70.O, magmaInstance96.I.data[0])
wire(magmaInstance71.O, magmaInstance96.I.data[1])
wire(magmaInstance72.O, magmaInstance96.I.data[2])
wire(magmaInstance73.O, magmaInstance96.I.data[3])
wire(magmaInstance74.O, magmaInstance97.I.data[0])
wire(magmaInstance75.O, magmaInstance97.I.data[1])
wire(magmaInstance76.O, magmaInstance97.I.data[2])
wire(magmaInstance77.O, magmaInstance97.I.data[3])
wire(magmaInstance78.O, magmaInstance98.I.data[0])
wire(magmaInstance79.O, magmaInstance98.I.data[1])
wire(magmaInstance80.O, magmaInstance98.I.data[2])
wire(magmaInstance81.O, magmaInstance98.I.data[3])
wire(magmaInstance82.O, magmaInstance99.I.data[0])
wire(magmaInstance83.O, magmaInstance99.I.data[1])
wire(magmaInstance84.O, magmaInstance99.I.data[2])
wire(magmaInstance85.O, magmaInstance99.I.data[3])
wire(magmaInstance86.O, magmaInstance100.I.data[0])
wire(magmaInstance87.O, magmaInstance100.I.data[1])
wire(magmaInstance88.O, magmaInstance100.I.data[2])
wire(magmaInstance89.O, magmaInstance100.I.data[3])
wire(magmaInstance90.O, magmaInstance101.I.data[0])
wire(magmaInstance91.O, magmaInstance101.I.data[1])
wire(magmaInstance92.O, magmaInstance101.I.data[2])
wire(magmaInstance93.O, magmaInstance101.I.data[3])
magmaInstance102 = DefineNoop(DefineCoreirConst(8, 0))()
magmaInstance103 = DefineNoop(DefineCoreirConst(8, 0))()
magmaInstance104 = DefineNoop(DefineCoreirConst(8, 0))()
magmaInstance105 = DefineNoop(DefineCoreirConst(8, 0))()
magmaInstance106 = DefineNoop(DefineCoreirConst(8, 0))()
magmaInstance107 = DefineNoop(DefineCoreirConst(8, 0))()
magmaInstance108 = DefineNoop(DefineCoreirConst(8, 0))()
magmaInstance109 = DefineNoop(DefineCoreirConst(8, 0))()
magmaInstance110 = DefineCoreirConst(8, 4)()
magmaInstance111 = DefineCoreirConst(8, 4)()
magmaInstance112 = DefineCoreirConst(8, 4)()
magmaInstance113 = DefineCoreirConst(8, 4)()
magmaInstance114 = DefineCoreirConst(8, 4)()
magmaInstance115 = DefineCoreirConst(8, 4)()
magmaInstance116 = DefineCoreirConst(8, 4)()
magmaInstance117 = DefineCoreirConst(8, 4)()
wire(magmaInstance94.out, magmaInstance102.in_O)
wire(magmaInstance95.out, magmaInstance103.in_O)
wire(magmaInstance96.out, magmaInstance104.in_O)
wire(magmaInstance97.out, magmaInstance105.in_O)
wire(magmaInstance98.out, magmaInstance106.in_O)
wire(magmaInstance99.out, magmaInstance107.in_O)
wire(magmaInstance100.out, magmaInstance108.in_O)
wire(magmaInstance101.out, magmaInstance109.in_O)
magmaInstance125 = DefineCoreirUDiv(8)()
magmaInstance126 = DefineCoreirUDiv(8)()
magmaInstance127 = DefineCoreirUDiv(8)()
magmaInstance128 = DefineCoreirUDiv(8)()
magmaInstance129 = DefineCoreirUDiv(8)()
magmaInstance130 = DefineCoreirUDiv(8)()
magmaInstance131 = DefineCoreirUDiv(8)()
magmaInstance132 = DefineCoreirUDiv(8)()
wire(magmaInstance102.O, magmaInstance125.I0)
wire(magmaInstance110.O, magmaInstance125.I1)
wire(magmaInstance103.O, magmaInstance126.I0)
wire(magmaInstance111.O, magmaInstance126.I1)
wire(magmaInstance104.O, magmaInstance127.I0)
wire(magmaInstance112.O, magmaInstance127.I1)
wire(magmaInstance105.O, magmaInstance128.I0)
wire(magmaInstance113.O, magmaInstance128.I1)
wire(magmaInstance106.O, magmaInstance129.I0)
wire(magmaInstance114.O, magmaInstance129.I1)
wire(magmaInstance107.O, magmaInstance130.I0)
wire(magmaInstance115.O, magmaInstance130.I1)
wire(magmaInstance108.O, magmaInstance131.I0)
wire(magmaInstance116.O, magmaInstance131.I1)
wire(magmaInstance109.O, magmaInstance132.I0)
wire(magmaInstance117.O, magmaInstance132.I1)
magmaInstance133 = DefineTwoDimensionalLineBuffer(cirb, Array[8, In(Bit)], 8, 1, 2, 2, 128, 128, 2, 2, 0, 0)()
wire(magmaInstance125.O, magmaInstance133.I[0][0])
wire(magmaInstance126.O, magmaInstance133.I[0][1])
wire(magmaInstance127.O, magmaInstance133.I[0][2])
wire(magmaInstance128.O, magmaInstance133.I[0][3])
wire(magmaInstance129.O, magmaInstance133.I[0][4])
wire(magmaInstance130.O, magmaInstance133.I[0][5])
wire(magmaInstance131.O, magmaInstance133.I[0][6])
wire(magmaInstance132.O, magmaInstance133.I[0][7])
magmaInstance134 = DefineNoop(DefineTwoDimensionalLineBuffer(cirb, Array[8, In(Bit)], 8, 1, 2, 2, 128, 128, 2, 2, 0, 0))()
magmaInstance135 = DefineCoreirConst(8, 1)()
magmaInstance136 = DefineCoreirConst(8, 1)()
magmaInstance137 = DefineCoreirConst(8, 2)()
magmaInstance138 = DefineCoreirConst(8, 2)()
magmaInstance140 = DefineCoreirConst(8, 3)()
magmaInstance141 = DefineCoreirConst(8, 3)()
magmaInstance142 = DefineCoreirConst(8, 4)()
magmaInstance143 = DefineCoreirConst(8, 4)()
wire(magmaInstance133.O[0][0][0], magmaInstance134.in_O[0][0][0])
wire(magmaInstance133.O[0][0][1], magmaInstance134.in_O[0][0][1])
wire(magmaInstance133.O[0][1][0], magmaInstance134.in_O[0][1][0])
wire(magmaInstance133.O[0][1][1], magmaInstance134.in_O[0][1][1])
wire(magmaInstance133.O[1][0][0], magmaInstance134.in_O[1][0][0])
wire(magmaInstance133.O[1][0][1], magmaInstance134.in_O[1][0][1])
wire(magmaInstance133.O[1][1][0], magmaInstance134.in_O[1][1][0])
wire(magmaInstance133.O[1][1][1], magmaInstance134.in_O[1][1][1])
magmaInstance147 = DefineCoreirMul(8)()
magmaInstance148 = DefineCoreirMul(8)()
magmaInstance149 = DefineCoreirMul(8)()
magmaInstance150 = DefineCoreirMul(8)()
magmaInstance151 = DefineCoreirMul(8)()
magmaInstance152 = DefineCoreirMul(8)()
magmaInstance153 = DefineCoreirMul(8)()
magmaInstance154 = DefineCoreirMul(8)()
wire(magmaInstance134.O[0][0][0], magmaInstance147.I0)
wire(magmaInstance135.O, magmaInstance147.I1)
wire(magmaInstance134.O[0][0][1], magmaInstance148.I0)
wire(magmaInstance137.O, magmaInstance148.I1)
wire(magmaInstance134.O[0][1][0], magmaInstance149.I0)
wire(magmaInstance140.O, magmaInstance149.I1)
wire(magmaInstance134.O[0][1][1], magmaInstance150.I0)
wire(magmaInstance142.O, magmaInstance150.I1)
wire(magmaInstance134.O[1][0][0], magmaInstance151.I0)
wire(magmaInstance136.O, magmaInstance151.I1)
wire(magmaInstance134.O[1][0][1], magmaInstance152.I0)
wire(magmaInstance138.O, magmaInstance152.I1)
wire(magmaInstance134.O[1][1][0], magmaInstance153.I0)
wire(magmaInstance141.O, magmaInstance153.I1)
wire(magmaInstance134.O[1][1][1], magmaInstance154.I0)
wire(magmaInstance143.O, magmaInstance154.I1)
magmaInstance155 = DefineReduceParallel(cirb, 4, renameCircuitForReduce(DefineAdd(8)))()
magmaInstance156 = DefineReduceParallel(cirb, 4, renameCircuitForReduce(DefineAdd(8)))()
magmaInstance155_identityGen = DefineCoreirConst(8, 0)()
wire(magmaInstance155_identityGen.O, magmaInstance155.I.identity)
wire(magmaInstance155_identityGen.O, magmaInstance156.I.identity)
wire(magmaInstance147.O, magmaInstance155.I.data[0])
wire(magmaInstance148.O, magmaInstance155.I.data[1])
wire(magmaInstance149.O, magmaInstance155.I.data[2])
wire(magmaInstance150.O, magmaInstance155.I.data[3])
wire(magmaInstance151.O, magmaInstance156.I.data[0])
wire(magmaInstance152.O, magmaInstance156.I.data[1])
wire(magmaInstance153.O, magmaInstance156.I.data[2])
wire(magmaInstance154.O, magmaInstance156.I.data[3])
magmaInstance157 = DefineNoop(DefineCoreirConst(8, 0))()
magmaInstance158 = DefineNoop(DefineCoreirConst(8, 0))()
magmaInstance159 = DefineCoreirConst(8, 4)()
magmaInstance160 = DefineCoreirConst(8, 4)()
wire(magmaInstance155.out, magmaInstance157.in_O)
wire(magmaInstance156.out, magmaInstance158.in_O)
magmaInstance162 = DefineCoreirUDiv(8)()
magmaInstance163 = DefineCoreirUDiv(8)()
wire(magmaInstance157.O, magmaInstance162.I0)
wire(magmaInstance159.O, magmaInstance162.I1)
wire(magmaInstance158.O, magmaInstance163.I0)
wire(magmaInstance160.O, magmaInstance163.I1)
magmaInstance164 = DefineTwoDimensionalLineBuffer(cirb, Array[8, In(Bit)], 2, 1, 2, 2, 64, 64, 2, 2, 0, 0)()
wire(magmaInstance162.O, magmaInstance164.I[0][0])
wire(magmaInstance163.O, magmaInstance164.I[0][1])
magmaInstance165 = DefineNoop(DefineTwoDimensionalLineBuffer(cirb, Array[8, In(Bit)], 2, 1, 2, 2, 64, 64, 2, 2, 0, 0))()
magmaInstance166 = DefineCoreirConst(8, 1)()
magmaInstance167 = DefineCoreirConst(8, 2)()
magmaInstance168 = DefineCoreirConst(8, 3)()
magmaInstance169 = DefineCoreirConst(8, 4)()
wire(magmaInstance164.O[0][0][0], magmaInstance165.in_O[0][0][0])
wire(magmaInstance164.O[0][0][1], magmaInstance165.in_O[0][0][1])
wire(magmaInstance164.O[0][1][0], magmaInstance165.in_O[0][1][0])
wire(magmaInstance164.O[0][1][1], magmaInstance165.in_O[0][1][1])
magmaInstance170 = DefineCoreirMul(8)()
magmaInstance171 = DefineCoreirMul(8)()
magmaInstance172 = DefineCoreirMul(8)()
magmaInstance173 = DefineCoreirMul(8)()
wire(magmaInstance165.O[0][0][0], magmaInstance170.I0)
wire(magmaInstance166.O, magmaInstance170.I1)
wire(magmaInstance165.O[0][0][1], magmaInstance171.I0)
wire(magmaInstance167.O, magmaInstance171.I1)
wire(magmaInstance165.O[0][1][0], magmaInstance172.I0)
wire(magmaInstance168.O, magmaInstance172.I1)
wire(magmaInstance165.O[0][1][1], magmaInstance173.I0)
wire(magmaInstance169.O, magmaInstance173.I1)
magmaInstance174 = DefineReduceParallel(cirb, 4, renameCircuitForReduce(DefineAdd(8)))()
magmaInstance174_identityGen = DefineCoreirConst(8, 0)()
wire(magmaInstance174_identityGen.O, magmaInstance174.I.identity)
wire(magmaInstance170.O, magmaInstance174.I.data[0])
wire(magmaInstance171.O, magmaInstance174.I.data[1])
wire(magmaInstance172.O, magmaInstance174.I.data[2])
wire(magmaInstance173.O, magmaInstance174.I.data[3])
magmaInstance175 = DefineNoop(DefineCoreirConst(8, 0))()
magmaInstance176 = DefineCoreirConst(8, 4)()
wire(magmaInstance174.out, magmaInstance175.in_O)
magmaInstance177 = DefineCoreirUDiv(8)()
wire(magmaInstance175.O, magmaInstance177.I0)
wire(magmaInstance176.O, magmaInstance177.I1)
wire(downsample_256x256_to_32x32_32px_in_per_clk.I0, magmaInstance0.I[0][0])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I1, magmaInstance0.I[0][1])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I2, magmaInstance0.I[0][2])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I3, magmaInstance0.I[0][3])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I4, magmaInstance0.I[0][4])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I5, magmaInstance0.I[0][5])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I6, magmaInstance0.I[0][6])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I7, magmaInstance0.I[0][7])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I8, magmaInstance0.I[0][8])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I9, magmaInstance0.I[0][9])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I10, magmaInstance0.I[0][10])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I11, magmaInstance0.I[0][11])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I12, magmaInstance0.I[0][12])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I13, magmaInstance0.I[0][13])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I14, magmaInstance0.I[0][14])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I15, magmaInstance0.I[0][15])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I16, magmaInstance0.I[0][16])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I17, magmaInstance0.I[0][17])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I18, magmaInstance0.I[0][18])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I19, magmaInstance0.I[0][19])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I20, magmaInstance0.I[0][20])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I21, magmaInstance0.I[0][21])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I22, magmaInstance0.I[0][22])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I23, magmaInstance0.I[0][23])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I24, magmaInstance0.I[0][24])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I25, magmaInstance0.I[0][25])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I26, magmaInstance0.I[0][26])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I27, magmaInstance0.I[0][27])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I28, magmaInstance0.I[0][28])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I29, magmaInstance0.I[0][29])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I30, magmaInstance0.I[0][30])
wire(downsample_256x256_to_32x32_32px_in_per_clk.I31, magmaInstance0.I[0][31])
wire(downsample_256x256_to_32x32_32px_in_per_clk.O0, magmaInstance177.O)
wire(magmaInstance0.ready, downsample_256x256_to_32x32_32px_in_per_clk.ready_data_in)
wire(magmaInstance164.valid, downsample_256x256_to_32x32_32px_in_per_clk.valid_data_out)
wire(downsample_256x256_to_32x32_32px_in_per_clk.valid_data_in & magmaInstance133.ready & bit(downsample_256x256_to_32x32_32px_in_per_clk.CE), magmaInstance0.CE)
wire(magmaInstance0.valid & magmaInstance164.ready & bit(downsample_256x256_to_32x32_32px_in_per_clk.CE), magmaInstance133.CE)
wire(magmaInstance133.valid & downsample_256x256_to_32x32_32px_in_per_clk.ready_data_out & bit(downsample_256x256_to_32x32_32px_in_per_clk.CE), magmaInstance164.CE)
ceTerm = TermAnyType(cirb, Enable)
wire(ceTerm.I, downsample_256x256_to_32x32_32px_in_per_clk.CE)
EndCircuit()
